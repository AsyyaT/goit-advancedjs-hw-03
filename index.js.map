{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '46511774-6d45b03e21a284b47c5b7e772';\n\n\nfunction getPhotos(query) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true\n  });\n\n  const url = `${BASE_URL}/?${params}`;\n\n  return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Failed to fetch images');\n            }\n            return response.json();\n        })\n    .then(data => data.hits);\n}\n\nexport { getPhotos };","export function renderImages(images) {\n    const gallery = document.querySelector('.gallery');\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li><a href=\"${largeImageURL}\" class=\"gallery-item\" data-lightbox=\"image\">\n            <div class=\"image-container\"><img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" /></div>\n            <div class=\"card-description\">\n                <p class=\"info\"><span>Likes</span> ${likes}</p>\n                <p class=\"info\"><span>Views</span> ${views}</p>\n                <p class=\"info\"><span>Comments</span> ${comments}</p>\n                <p class=\"info\"><span>Downloads</span> ${downloads}</p>\n            </div>\n        </a></li>\n    `).join('');\n\n    gallery.innerHTML = `<ul class=\"gallery-list\">${markup}</ul>`;\n}\n\nexport function showLoader() {\n    const loader = document.getElementById('loader');\n    loader.style.display = 'block';\n}\n\nexport function hideLoader() {\n    const loader = document.getElementById('loader');\n    loader.style.display = 'none';\n}\n\nexport function clearGallery() {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n}\n","import { getPhotos } from './js/pixabay-api.js';\nimport { renderImages, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector('.search-form');\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n\n    const query = event.target.elements.query.value.trim();\n    \n    if (!query) {\n        iziToast.warning({\n            title: 'Warning',\n            message: \"Please enter a search term!\",\n        });\n        return;\n    }\n    form.reset();\n\n\n    clearGallery();\n    showLoader();\n    getPhotos(query)\n        .then(images => {\n            if (images.length === 0) {\n                iziToast.error({\n                    title: 'Error',\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                });\n            } else {\n                renderImages(images);\n                const lightbox = new SimpleLightbox('.gallery a');\n                lightbox.refresh();\n            }\n        })\n        .catch(error => {\n            console.error(error);\n            iziToast.error({\n                title: 'Error',\n                message: \"Something went wrong. Please try again later.\",\n            });\n        })\n        .finally(() => {\n            hideLoader()\n        });\n});\n"],"names":["BASE_URL","API_KEY","getPhotos","query","params","url","response","data","renderImages","images","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showLoader","loader","hideLoader","clearGallery","form","event","iziToast","SimpleLightbox","error"],"mappings":"wvBAAA,MAAMA,EAAW,0BACXC,EAAU,qCAGhB,SAASC,EAAUC,EAAO,CACxB,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKE,EAAM,GAAGL,CAAQ,KAAKI,CAAM,GAElC,OAAO,MAAMC,CAAG,EACT,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,wBAAwB,EAE5C,OAAOA,EAAS,MAC5B,CAAS,EACJ,KAAKC,GAAQA,EAAK,IAAI,CAC3B,CCvBO,SAASC,EAAaC,EAAQ,CACjC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EAAO,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA,uBACrFL,CAAa;AAAA,qDACiBD,CAAY,UAAUE,CAAI;AAAA;AAAA,qDAE1BC,CAAK;AAAA,qDACLC,CAAK;AAAA,wDACFC,CAAQ;AAAA,yDACPC,CAAS;AAAA;AAAA;AAAA,KAG7D,EAAE,KAAK,EAAE,EAEVR,EAAQ,UAAY,4BAA4BC,CAAM,OAC1D,CAEO,SAASQ,GAAa,CACzB,MAAMC,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,OAC3B,CAEO,SAASC,GAAa,CACzB,MAAMD,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,MAC3B,CAEO,SAASE,GAAe,CAC3B,MAAMZ,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACxB,CCvBA,MAAMa,EAAO,SAAS,cAAc,cAAc,EAElDA,EAAK,iBAAiB,SAAWC,GAAU,CACvCA,EAAM,eAAc,EAEpB,MAAMrB,EAAQqB,EAAM,OAAO,SAAS,MAAM,MAAM,OAEhD,GAAI,CAACrB,EAAO,CACRsB,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,6BACrB,CAAS,EACD,MACH,CACDF,EAAK,MAAK,EAGVD,IACAH,IACAjB,EAAUC,CAAK,EACV,KAAKM,GAAU,CACRA,EAAO,SAAW,EAClBgB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EAC7B,CAAiB,GAEDjB,EAAaC,CAAM,EACF,IAAIiB,EAAe,YAAY,EACvC,QAAO,EAEhC,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,MAAMA,CAAK,EACnBF,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+CACzB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXJ,EAAY,CACxB,CAAS,CACT,CAAC"}